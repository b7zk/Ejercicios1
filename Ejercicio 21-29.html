<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <h1>Ejercicio 21</h1>
  <h2 id="ejercicio21"></h2><br>
  <h1>Ejercicio 22</h1>
  <h2 id="ejercicio22"></h2><br>
  <h1>Ejercicio 23</h1>
  <h2 id="ejercicio23"></h2><br>
  <h1>Ejercicio 24</h1>
  <h2 id="ejercicio24"></h2><br>
  <h1>Ejercicio 25</h1>
  <h2 id="ejercicio25"></h2><br>
  <h1>Ejercicio 26</h1>
  <h2 id="ejercicio26"></h2><br>
  <h1>Ejercicio 27</h1>
  <h2 id="ejercicio27"></h2><br>
  <h1>Ejercicio 28</h1>
  <h2 id="ejercicio28"></h2><br>
  <h1>Ejercicio 29</h1>
  <h2 id="ejercicio29"></h2><br>
</body>
<script>
  /*
  21. Desarrollar un algoritmo para calcular e imprimir el factorial de un número dado.*/

  const factorial = (n = undefined) => {
    if (n === undefined) {
      return "Debes ingresar un numero limite"
    }

    if (typeof n !== "number") {
      return "Por favor ingresa sólo numeros"
    }

    if (n <= 0) {
      return "Sólo puede sacarse factoriales de enteros positivos"
    }
    let c = 1;
    for (let i = 1; i < n + 1; i++) {

      c *= i;

    }

    return `${n}! = ${c}`

  }

  document.getElementById("ejercicio21").innerHTML = factorial(4);

  /*
  22.Escribir un algoritmo que calcule la media de 100 números dados eimprima su resultado.
  */

  const media = (arreglo = undefined) => {
    if (!arreglo) return "Ingresa un arreglo"

    if (!Array.isArray(arreglo)) return "Debes introducir un arreglo";

    if (arreglo.length === 0) {
      return "El arreglo esta vacío"
    }

    if (!arreglo.every(e => typeof e === "number")) {
      return `Asegurate de sólo ingresar numeros`
    }
    if (arreglo.length !== 100) {
      return `El programa esta diseñado para calcular la media de 100 numeros`
    }
    total = 0;
    for (let i of arreglo) total += i;
    total = total / arreglo.length;

    return total;
  }
  const arr = () => {
    let a = [];
    for (let i = 0; i < 100; i++) {
      a[i] = i + 1;
    }
    return a;
  }

  document.getElementById("ejercicio22").innerHTML = media(arr());



  /*23.Escribir un algoritmo que calcule la suma y el producto de losnúmeros pares comprendidos entre 20 y 400 incluyendo ambos.*/
  const sumaPro = (inicio = undefined, fin = undefined) => {

    arregloPar = [];

    x = inicio;
    totalSum = 0;
    totalMul = 1;
    while (x <= fin) {
      if (x % 2 === 0) {
        totalSum += x;
        totalMul *= x;
      }
      x++;
    }

    return `Suma pares rango[${inicio}-${fin}]: ${totalSum} | Multiplicación: ${totalMul}`
  }

  document.getElementById("ejercicio23").innerHTML = sumaPro(20, 400);


  /*24.Escribir un algoritmo que lea varios caracteres, uno a la vez, y quese detenga cuando sea dada alguna de las vocales y la escriba.*/

  const vocalCheck = (arreglo = undefined) => {
    if (!arreglo) return "Ingresa un arreglo"

    if (!Array.isArray(arreglo)) return "Debes introducir un arreglo";

    if (arreglo.length === 0) {
      return "El arreglo esta vacío"
    }
    let regex = /[aeiou]/gi;

    let tope = arreglo.findIndex(e => regex.test(e))


    return `Se ha detenido en la vocal "${arreglo[tope]}" encontrado en la posicion ${tope}`

  }
  document.getElementById("ejercicio24").innerHTML = vocalCheck(["B", "C", "D", "D", "A"]);

  /*25.El ing. De sistemas de un banco de crédito necesita conocer de unalista de 2500 cuentas cuál es la que posee mayor cantidad y cuál es la queposee menor cantidad, de dinero. Escriba un algoritmo que realice loanterior, sin ordenar las cuentas.*/
  class Account {

    //Constructor
    constructor({ id, saldo }) {
      this.id = id;
      this.saldo = this.checkSaldo(saldo);

    }

    //Metodos
    checkSaldo(saldo) {
      if (saldo === undefined) {
        return 0;
      }
      if (typeof saldo !== "number") {
        return 0;
      }
      return saldo;
    }

    getSaldo() {
      return this.saldo;
    }

  }

  const checkSaldos = (cuentas) => {
    maxV = 0;
    minV = 99999999999999999999;
    for (const e of cuentas) {

      if (e.getSaldo() > maxV) {

        maxV = e.getSaldo();
      }
      if (e.saldo < minV) {
        minV = e.saldo;
      }

    }

    return `Max: ${maxV} | Min: ${minV}`

  }

  function AccGenerator() {
    cuentas = [];

    for (let i = 0; i < 25; i++) {
      v = new Account({ id: i, saldo: Math.round((Math.random() * 1000)) });
      cuentas.push(v)
    }

    return cuentas;
  }


  document.getElementById("ejercicio25").innerHTML = checkSaldos(AccGenerator());


  /*26.Escribir   un   algoritmo   que   permita   calcular   y   mostrar   el   jornal mensual de una empresa de acuerdo con las siguientes especificaciones:·los trabajadores tienen dos turnos (nocturno y diurno)·la tarifa de las horas diurnas es de 10 pesos.·La tarifa de las nocturnas es de 20 pesos.·Ningún trabajador recibe nada por sábados o domingos.·El trabajador será despedido si sus horas trabajadas son menores que 15.
  El algoritmo termina cuando sea dado cero como horas trabajadas.*/

  const jornalM = (horas = undefined, turno = undefined) => {
    if (horas === undefined || turno === undefined) {
      return "Ingresa todos los valores requeridos"
    }

    if (typeof horas !== "number") {
      return "Por favor ingresa sólo numeros en las horas"
    }

    turnoN = turno.toLowerCase();

    if ((turnoN !== "d") && turnoN !== "n") {
      return "Por favor sólo puedes ingresar D ó N"
    }
    if (horas === 0) {
      return 0
    }
    if (horas < 15) {
      return "Despedido"
    }

    if (turnoN === "d") {
      return (horas * 10);
    } else {
      return (horas * 20);
    }


  }

  document.getElementById("ejercicio26").innerHTML = jornalM(25, "n");


  /*27.Escribir un algoritmo que determine cuántos trabajadores recibiránun salario mayor o igual a  500, dadas la tarifa y las horas trabajadas.*/
  class Trabajador {

    //Constructor
    constructor({ horas, tarifa }) {
      this.horas = horas;
      this.tarifa = tarifa;
      this.pago = this.getPago();


    }

    //Metodos



    getPago() {
      let pago = this.horas * this.tarifa;
      return pago;
    }

  }
  const trabajadores = () => {
    function AccGen2() {
      cuentas = [];

      for (let i = 0; i < 25; i++) {
        v = new Trabajador({ horas: Math.round((Math.random() * 10)), tarifa: Math.round((Math.random() * 400 + 10)) });
        cuentas.push(v)
      }
      console.log(cuentas);

      return cuentas;
    }

    newArr = AccGen2();
    total = 0;
    for (const e of newArr) {

      if (e.pago > 500) {

        total++;
      }

    }

    return `${total} reciben un pago mayor a $500`;

  }

  document.getElementById("ejercicio27").innerHTML = trabajadores();


  /*28.Escribir un algoritmo que clasifique a 50 personas según su edad ysexo, al final deberá escribir la cantidad de personas masculinas mayores de edad, la cantidad de personas femeninas menores de edad, cantidad depersonas   mayores   y   menores,   además   deberá   indicar   el   porcentaje   querepresentan las personas mayores y las menores, de edad.*/
  console.log("*****************");
  class Persona {

    //Constructor
    constructor({ edad, sexo }) {
      this.edad = edad;
      this.sexo = sexo;

    }

    //Metodos
  }
  const personas = () => {
    function AccGen3() {
      cuentas1 = [];

      for (let i = 0; i < 50; i++) {
        let sex1;
        let aux1 = Math.round(Math.random());

        if (aux1 === 0) {
          sex1 = "h"
        } else {
          sex1 = "m";
        }

        v1 = new Persona({ edad: Math.round((Math.random() * 10) + (Math.random() + 15)), sexo: sex1 });

        cuentas1.push(v1)

      }


      return cuentas1;
    }

    newArr = AccGen3();
    console.log(newArr);
    const mayores = newArr.filter(p => p.edad > 17);
    const menores = newArr.filter(p => p.edad < 18);
    const mayoresH = mayores.filter(p => p.sexo === "h")
    const menoresM = menores.filter(p => p.sexo === "m")


    const porMay = (100 / newArr.length) * mayores.length;
    const porMen = (100 / newArr.length) * menores.length;

    return `Mayores: ${mayores.length} (${porMay}%) Menores: ${menores.length} (${porMen}% | H+18: ${mayoresH.length} - M-18 ${menoresM.length}`

  }

  document.getElementById("ejercicio28").innerHTML = personas();

  /*29.Escribir un algoritmo que ordene una lista de números indicando alfinal la cantidad de números pares y la cantidad de números impares, eldato a ingresar es un número y se debe repetir el proceso mientras elnúmero ingresado sea diferente a cero.
  */

  const orderNum = (arreglo = undefined) => {
    if (!arreglo) return "Ingresa un arreglo"

    if (!Array.isArray(arreglo)) return "Debes introducir un arreglo";

    if (arreglo.length === 0) {
      return "El arreglo esta vacío"
    }

    if (!arreglo.every(e => typeof e === "number")) {
      return `Asegurate de sólo ingresar numeros`
    }
    let tope = arreglo.findIndex(e => e === 0)
    if (tope < 0) {
      tope = arreglo.length;
    }
    arreglo = arreglo.splice(0, tope)

    arreglo.sort();
    const r1 = arreglo.filter(e => e % 2 === 0);
    const r2 = arreglo.filter(e => e % 2 !== 0);

    console.log(arreglo);
    console.log(r1);
    console.log(r2);

    return `Arreglo ordenado: ${arreglo} | Pares: ${r1.length} Impares: ${r2.length}`

  }


  document.getElementById("ejercicio28").innerHTML = orderNum([1, 2, 3, 50, 4, 0, 8, 2, 1]);
</script>

</html>